# Data model segments

- segment: &fact Fact data 
- segment: &dim  Dimensions

# Tables and columns

- table: clinical_consultation
  #segment: *fact
  columns:
    id: {key: yes}
    encounter_uuid: {key: yes}
    consultation_date:
    scheduled_date:
  
- table: dsd
  #segment: *dim
  columns:
    id: {key: yes}
    encounter_uuid: {ref: clinical_consultation}
    dsd_id:
    dsd_state_id:
    dsd_uuid: {key: yes}
  
- table: form
  #segment: *dim
  columns:
    id: {key: yes}
    encounter_id:
    encounter_uuid: {ref: clinical_consultation}
    form_id:
    encounter_type:
    patient_uuid:
    created_date:
    encounter_date:
    change_date:
    location_uuid: {ref: location}
    source_database:
  
- table: identifier
  #segment: *dim
  columns:
    identifier_seq: {key: yes}
    patient_uuid: {ref: patient}
    identifier_type:
    identifier_value:
    preferred:
    identifier_uuid: {key: yes}
  
- table: key_vul_pop
  #segment: *dim
  columns:
    id: {key: yes}
    encounter_uuid: {ref: clinical_consultation}
    pop_type:
    pop_id:
    pop_other:
  
- table: laboratory
  #segment: *dim
  columns:
    id: {key: yes}
    encounter_uuid: {ref: clinical_consultation}
    lab_test_id:
    request:
    order_date:
    sample_collection_date:
    result_report_date:
    result_qualitative_id:
    result_numeric:
    result_units:
    result_comment:
    specimen_type_id:
    labtest_uuid:
  
- table: location
  #segment: *dim
  columns:
    id: {key: yes}
    location_id:
    location_uuid: {key: yes}
    sisma_id:
    datim_id:
    sisma_hdd_id:
    name:
    province_name:
    province_district:
    selected:
  
- table: medication
  #segment: *dim
  columns:
    id: {key: yes} 
    encounter_uuid: {ref: clinical_consultation}
    regimen_id:
    formulation_id:
    quantity:
    dosage:
    next_pickup_date:
    mode_dispensation_id:
    med_line_id:
    type_dispensation_id:
    alternative_line_id:
    reason_change_regimen_id:
    arv_side_effects_id:
    adherence_id:
    medication_uuid: {key: yes}
  
- table: observation
  #segment: *dim
  columns:
    id: {key: yes}
    encounter_uuid: {ref: clinical_consultation}
    concept_id: {ref: observation_lookup}
    observation_date:
    value_numeric:
    value_concept_id:
    value_text:
    value_datetime:
    obs_uuid: {key: yes}
  
- table: observation_lookup
  #segment: *dim
  columns:
    concept_id: {key: yes}
    concept_name:
  
- table: pat_state
  #segment: *dim
  columns:
    id: {key: yes}
    patient_uuid: {ref: patient}
    program_id:
    program_enrolment_date:
    program_completed_date:
    location_uuid: {ref: location}
    enrolment_uuid:
    source_id:
    state_id:
    state_date:
    state_uuid: {key: yes}
  
- table: patient
  #segment: *dim
  columns:
    id: {key: yes}
    patient_id:
    patient_uuid: {key: yes}
    gender:
    birthdate:
    birthdate_estimated:
    date_created:
    source_database:
  
- table: type_id_lookup
  #segment: *dim
  columns:
    id: {key: yes}
    table_name:
    column_name:
    id_type_lookup:
    id_type_desc:
    notes:
